#+SETUPFILE: ../styles/SETUP_l2_slides.org
#+TITLE: Software Tools:: Lectures
#+AUTHOR: Dylan Schwilk
* Text editors 
:PROPERTIES:
:EXPORT_FILE_NAME: 01-text-editors.pdf
:END:
** What is plain text?
*** Computers store numbers
- Computers store numbers in binary: 0100110 (38).
- How to represent characters ("A", "f", "%")?
\pause
**** Simple idea: numeric code for each character.  Originated at Bell labs in 1960
- ASCII: American Standard Code for Information Interchange
- 7 bits (128 symbols).
- On modern computers, stored in one byte with zero as first bit.
- For example: ``A'' = 01000001
*** ASCII table
**** 0--31 used for "unprintable" characters (BEEP! page feed, etc).
  #+ATTR_LaTeX: :width 0.9\textwidth 
  [[file:images/800px-ASCII_Code_Chart.png]]
*** All was good
Assuming you were an English speaker.
**** Solution: Extended ASCII
- We have 8 bits!  What about codes 128--255?
- IBM-PC: The "OEM" character set:  European accented characters and drawing characters.
- But everyone had a different idea of what to do with the upper codes.
*** ANSI standard
- Same as ASCII for 0-127
- But different "code pages" for upper set
**** So everything was crazy but ok
As long as you spoke a western language.

In Asia, there was a whole other mess using a mixture of one and two-byte characters.
*** Unicode
Basic idea: two bytes.  Then expanded to more (up to 3 bytes) Enough to store every character in every language.
  - Originally: \(2^{14} = 16,384\)   (2 bits reserved)
  - Currently: 110,182 code points
  - Every letter maps to a "code point" --- a platonic ideal of a character.
  - "A" is different from "a", but "A" in Times New Roman is the same as "A" in Arial
  - For example:
      :"Hello" = U+0048 U+0065 U+006C U+006C U+006F
  - Still the issue of exactly how to STORE the numbers

*** Encodings
There were multiple standards for STORING the numbers.  Original, UCS-2, uses 2  bytes.
Americans were lazy, so:
**** UTF-8
:PROPERTIES:
:BEAMER_act <+->
:END:
- Idea: use one byte for code points 0-127, and only use two for points above that.
- UTF-8 is the de facto standard encoding for unicode on
- Example, an email message header: src_text{Content-Type: text/plain; charset="UTF-8"}

** Working with plain text
*** Why you should love plain text
:PROPERTIES:
:BEAMER_act: [<+->]
:END:
- Portability. Linux, windows, mac, android, etc. STANDARD.
- Easy to use (you have been using more difficult ways to edit words). Don't let a word processor get in you way when you just need to *write*
- Related to above: keep content separate from formatting
- Computers love plain text.  Programs are written in plain text.  Use one powerful text editing tool for everything you do. 
*** Editor features
- Syntax highlighting
- Braces, parenthesis matching, automatic indenting
- Ability to work with interpreters, shells
- Spell checking
*** Editors
**** OS agnostic:
- *Emacs* (GNU Emacs, carbon emacs, aquamacs, etc).  My favorite.  A text editor that includes its own programming language (Elisp).
- For R code: RStudio (runs on Mac, Linux, Windows), vim, others
**** Windows:
- *notepad++*.  Nice and lightweight, does what you need. Rita uses this for R code.
**** Mac
- Textwrangler, BBedit
** One editor to rule them all...Emacs
*** Why use Emacs? Availability
- All platforms, operating systems
- Will Always Exist (cue music)
- Open source and free
*** Why use Emacs? Best tools
- Emacs has "major modes" for most computer languages and types of files
- Powerful text management tools:
  - Compare (=diff=) documents or buffers
  - Regular expressions
  - Can deal with rectangular text (columns, tables)
- Can handle very large files
** Basics and terminology
*** Start Emacs
[[file:images/emacs-simple-start.png]]

1: Menus, 2: Toolbar, 3: Buffer, 4: Mode line (status bar), 5: Mini buffer  
*** Frames, windows and buffers
- Frame :: What we call a "window" on a modern operating system. One instance can control multiple frames. Try =File -> New Frame=
- Window :: What we would call a "panel." A subdivided part of an Emacs "frame". A way to view multiple buffers at once (eg R code and R console). Try =File -> Split Window=
- Buffer :: A name associated with the contents of a window. Can be the contents of a file, a process, an interpreter. Try =Buffers -> ...=
*** Emacs "Major Modes"
- Emacs can customize itself based on the language you are working in
- R code will look different (font colors, comments etc) from Python from Markdown.
- Emacs will guess the mode from the file extension (eg =.R=), or you can specify mode: Type Alt-x, release, then type valid mode name
*** Emacs key board commands
**** Emacs was created in the days before
- Mice
- Windowing desktop environments
- Microsoft windows or Macs existed.
**** Everything can be done from keyboard
- C :: Control key
- S :: Shift key
- M :: Meta key (usually "Alt")

*** Keyboard nomenclature
 
- "C-x g" :: hold Control while typing "x", release, then type "g"
- "M-x"  :: Hold down Alt then hit "x".  This brings you to mini-buffer to type longer commands
- "C-c C-c" :: Hold down Control while typing "c" then do that again.

*** That seems complicated!
So you don't have to use those keys if you don't want to!

- The keyboard commands are featured in most Emacs tutorials. And that may scare folks away.
- I have a "cheat sheet" of commands taped on the wall next to my computer
- But you can always use the pull down menus and still do more than with any other editor.
*** Just use the menus and keys you are used to
**** Select all:
- =Edit -> Select All= vs "C-x h"

**** End of buffer:
- "page down" key a few times vs "M->" (Alt, Shift, greater than)

**** Moving by character:
- arrow keys, "home", "end" vs "C-f", "C-b", "C-n", "C-p", "C-a", "C-e"

*** One problem:
**** You are probably used to MS or Mac cut-copy-paste
| keystroke | result |
|-----------+--------|
| C-x       | cut    |
| C-c       | copy   |
| C-v       | paste  |
| C-z       | undo   | 
**** But Emacs defaults:
| keystroke | result         |
|-----------+----------------|
| C-w       | cut ("wipe")   |
| M-w       | copy           |
| C-y       | paste ("yank") |
| C-/       | undo           |
*** Easily fixed
Turn on "CUA mode", multiple ways:

- =Options -> CUA
- "M-x cua-mode"
- Add following to emacs startup:  =(cua-mode t)=

Watch out: This overrides some basic Emacs keyboard functionality.  For example, you must turn this off for the built-in Emacs tutorial!
*** Customizing Emacs
- Emacs is an editor built on top of an entire programming language (Emacs lisp).
- When emacs starts it reads a local configuration file (lisp code). Either: =~/.emacs= or =~/.emacs.d/init.el=
*** Some shortcuts you *should* use

- "M-x" :: execute command in minibufer --- this gives you access to every lisp function
- "C-g" :: Quit.  Exits a function, exits mini- buffer. Useful if you get stuck 
- "C-s" :: Forward search".  I use this very frequently
- "M-% :: Query replace
- "C-M-%" :: Regular expression query replace
- "M-q" :: Rewrap paragraph (does right thing for code comments
- "M-;" :: Comment or uncomment selected region. Knows which comment character to use.

*** More on =M-x=
- "M-x" gets the mini-buffer ready for a command
- Tab completeion works, so just type first few letters
***** Example: indent-region
- Highlight text ("select region")
- Type "M-x indent-region"
- And emacs even reminds you of shortcut.
** Installing Emacs
*** Installing Emacs
**** On linux
~> sudo apt-get install emacs24~
**** On Mac
- OSX: aquamacs: http://aquamacs.org/
*** Install Emacs on Windows 
- go to http://ftp.gnu.org/gnu/windows/emacs/
- Download emacs by right-clicking on either emacs-xx.x-bin-i386.tar.gz or emacs-xx.x-fullbin-i386.tar.gz. Install the latest version if you desire.
- Extract to zip file to ~C:\Program Files\emacs~
- Add shortcuts to the executable, set the $HOME environment variable(My computer ... Properties ... Advanced
- You will need to learn about environment variables so that emacs can find R, etc.
*** My Emacs starter setup
- Emacs is highly customizable.  On startup it reads an initialization file (~/.emacs.d/init.el) (older but deprecated location was ~/.emacs)
- I have a very extensive configuration that sets up emacs for coding in R, Python, C, C++; for writing LaTeX files and making presentations using LaTeX+Beamer, for organizing my life in org-mode, etc.
- I have written a paired-down set of initialization files called "schwilk-emacs-starter"
- Another option is Kieren Healy's emacs starter (optimized for Mac): http://kieranhealy.org/resources/emacs-starter-kit.html
*** Installing schwilk-emacs-starter
- go to https://github.com/dschwilk/schwilk-emacs-starter
- read the README.md file
- Download to your .emacs.d directory (~/.emacs.d, or ~$HOME\.emacs.d\~)
- Learn what I mean by "~" and ~$HOME~ !
*** Some features and departures from defaults
Note that some things are different than the documentation you will find online:
- A nice dark color theme
- Works great as an IDE for R (shift-enter starts an R session, *ESS*
- Basic support for org-mode (outline files, *org-mode*)
- Uses windows cut-copy-paste keys (*cua-mode*). I have mixed feelings about this. Although I came from a windoze background, I have switched to the emacs way (but I still use C-c, C-x, C-v in KDE
** Learning Emacs
*** Learning Emacs according to Sacha Chua
#+ATTR_LaTeX: :width 0.9\textwidth 
[[file:images/sacha_chua-emacs.png]]
*** Basic commands
| Visiting (opening) and saving files:     | C-x C-f and C-x C-s   |
| Switching between buffers:               | C-x b and C-x C-b     |
| To set the region by keyboard:           | C-SPC                 |
| Killing (cutting) and yanking (pasting): | C-w, C-k, C-y, M-y    |
| Searching forwards and backwards:        | C-s, C-r              |
| Invoking commands by name:               | M-x                   |
| Undo:                                    | C-/                   |
| Canceling half-entered commands:         | C-g                   |
| Getting help                             | C-h (+ m, k, f, or a) |
| Quitting Emacs:                          | C-x C-c               |
** So what can I do?
*** Work in R
- Emacs knows about R syntax
- Use shift-enter to start up R
#+ATTR_LaTeX: :width \textwidth 
[[file:images/ess-example.png]]
*** org-mode
    "Org is a mode for keeping notes, maintaining TODO lists, and doing project planning with a fast and effective plain-text system. " - [[http://orgmode.org/manual/Summary.html]]
**** org-mode is
- an outline extension with visibility cycling and structure editing
- an ASCII system and table editor for taking structured notes
- a TODO list editor
- a full agenda and planner with deadlines and work scheduling
- a simple hypertext system, with HTML and LaTeX export
- an environment for literate programming
*** org-mode outlines
Folding outlines and lists:

[[file:images/org-mode-example1.png]]
*** org-mode examples
- Outlines
- Adding tasks
- Agenda view
- Exporting to HTML or LaTeX
* Version Control
** What is version control?
*** Why use version control?
**** You already use some sort of version control
- File naming schemes (/eg/ ~my-file-July18-2013.doc~) or by copying folders around
- Simple but error-prone
- Does not help with branching, collaboration

\pause
**** A version control system (VCS) allows you to:
- revert files back to a previous state
- revert the entire project back to a previous state
- review changes made over time
- see who last modified something that might be causing a problem, who introduced an issue and when

*** Local version control systems (VCS)
#+ATTR_LaTeX: :width 0.5\textwidth
[[file:images/local-vc.png]]
see http://git-scm.com/book/
*** Centralized VCS
#+ATTR_LaTeX: :width 0.5\textwidth
[[file:central-vc.png]]

*** Distributed VCS
#+ATTR_LaTeX: :width 0.5\textwidth
[[file:distributed-vc.png]]

** git
*** git: distributed version control
*** git states
*** git states                                                      :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.6
:END:
[[file:git-states.png]]
*** git commands                                                    :BMCOL:
:PROPERTIES:
:BEAMER_col: 0.4
:END:
 - git init
 - git add
 - git status
 - git log
 - git commit
** Learning git 
*** Learning git
Check out [[http://git-scm.com/book/en][the git book]]



* ssh and rsync
* emacs
* org-mode
